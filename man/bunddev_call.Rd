% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core_call.R
\name{bunddev_call}
\alias{bunddev_call}
\title{Call an API operation}
\usage{
bunddev_call(
  api,
  operation_id = NULL,
  params = list(),
  path = NULL,
  method = NULL,
  parse = c("json", "text", "raw", "xml"),
  base_url = NULL,
  body = NULL,
  body_type = c("json", "form"),
  headers = NULL,
  safe = TRUE,
  refresh = FALSE
)
}
\arguments{
\item{api}{Registry id.}

\item{operation_id}{OpenAPI operationId (use this OR path+method).}

\item{params}{Named list of query and path parameters passed to the selected
operation.}

\item{path}{API path (use with method instead of operation_id).}

\item{method}{HTTP method (use with path instead of operation_id).}

\item{parse}{Response parsing mode.}

\item{base_url}{Optional base URL override.}

\item{body}{Optional request body (for POST/PUT requests).}

\item{body_type}{Body encoding type ("json" or "form").}

\item{headers}{Optional named list of custom HTTP headers.}

\item{safe}{Logical; if \code{TRUE} (default), apply rate-limiting and cache
GET responses to \code{tools::R_user_dir("bunddev", "cache")}.}

\item{refresh}{Logical; if \code{TRUE}, ignore cached responses and re-fetch
from the API (default \code{FALSE}).}
}
\value{
Parsed response according to \code{parse}:
\describe{
\item{\code{parse = "json"}}{Parsed JSON as an R list.}
\item{\code{parse = "text"}}{Character scalar with response body text.}
\item{\code{parse = "raw"}}{Raw vector with response bytes.}
\item{\code{parse = "xml"}}{\code{xml2} document object.}
}
}
\description{
Call an API operation
}
\details{
This is the low-level OpenAPI caller. It supports two modes:
\itemize{
\item Use \code{operation_id} to lookup endpoints by their OpenAPI operationId
\item Use \code{path} + \code{method} for APIs without operationIds
}

The function fills path parameters from \code{params}, applies auth (if
configured), and optionally caches GET responses when \code{safe = TRUE}.

Use \code{\link[=bunddev_parameters]{bunddev_parameters()}} and \code{\link[=bunddev_parameter_values]{bunddev_parameter_values()}} to discover valid
parameters before calling.
}
\examples{
\dontrun{
# Retrieve Autobahn road ids (raw response)
bunddev_call("autobahn", "list-autobahnen")
}

}
\seealso{
\code{\link[=bunddev_call_tidy]{bunddev_call_tidy()}} for adapter-specific tidy outputs, and
\code{\link[=bunddev_auth_set]{bunddev_auth_set()}} to configure API keys.

Other OpenAPI: 
\code{\link{bunddev_cache_dir}()},
\code{\link{bunddev_call_tidy}()},
\code{\link{bunddev_endpoints}()},
\code{\link{bunddev_ms_to_posix}()},
\code{\link{bunddev_parameter_values}()},
\code{\link{bunddev_parameters}()},
\code{\link{bunddev_parameters_for}()},
\code{\link{bunddev_spec}()},
\code{\link{bunddev_spec_path}()},
\code{\link{bunddev_timestamp_to_ms}()}
}
\concept{OpenAPI}
